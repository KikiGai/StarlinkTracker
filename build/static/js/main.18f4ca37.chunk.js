(this.webpackJsonpstarlink=this.webpackJsonpstarlink||[]).push([[0],{126:function(e,t,a){e.exports=a.p+"static/media/starlink_logo.b9d88695.svg"},131:function(e,t,a){e.exports=a.p+"static/media/satellite.141ccf71.svg"},139:function(e,t,a){e.exports=a(236)},146:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(123),s=a.n(r),o=(a(146),a(31)),l=a(32),c=a(33),u=a(34),m=a(126),d=a.n(m),p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),i.a.createElement("p",{className:"title"},"StarLink Tracker"))}}]),a}(n.Component),h=a(91),f=a(102),g=a(246),b=a(247),v=a(66),E=a.n(v),y=a(250),j=a(252),w=a(254),L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showSatellite=function(t){console.log("Received values of form: ",t),e.props.onShow(t)},e}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement(y.a,{name:"wrap",labelCol:{flex:"110px"},labelAlign:"left",labelWrap:!0,wrapperCol:{flex:1},colon:!1,className:"sat-setting",onFinish:this.showSatellite},i.a.createElement(y.a.Item,{label:"Longitude(degrees)",name:"longitude",rules:[{required:!0,message:"Please input your Longitude"}]},i.a.createElement(j.a,{min:-180,max:180,style:{width:"100%"},placeholder:"Please input Longitude"})),i.a.createElement(y.a.Item,{label:"Latitude(degrees)",name:"latitude",rules:[{required:!0,message:"Please input your Latitude"}]},i.a.createElement(j.a,{min:-90,max:90,style:{width:"100%"},placeholder:"Please input Longitude"})),i.a.createElement(y.a.Item,{label:"Elevation(meters)",name:"elevation",rules:[{required:!0,message:"Please input your Elevation"}]},i.a.createElement(j.a,{min:-413,max:8850,style:{width:"100%"},placeholder:"Please input Longitude"})),i.a.createElement(y.a.Item,{label:"Altitude(degrees)",name:"altitude",rules:[{required:!0,message:"Please input your Altitude"}]},i.a.createElement(j.a,{min:0,max:90,style:{width:"100%"},placeholder:"Please input Longitude"})),i.a.createElement(y.a.Item,{label:"Duration(secs)",name:"duration",rules:[{required:!0,message:"Please input your Duration"}]},i.a.createElement(j.a,{min:0,max:90,style:{width:"100%"},placeholder:"Please input Longitude"})),i.a.createElement(y.a.Item,{className:"show-nearby"},i.a.createElement(w.a,{type:"primary",htmlType:"submit",style:{textAlign:"center"}},"Find Satellite")))}}]),a}(n.Component),O=a(132),S=a(249),k=a(257),x=a(255),N=a(131),D=a.n(N),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).onChange=function(t){var a=t.target,n=a.dataInfo,i=a.checked,r=e.state.selected,s=e.addOrRemove(n,i,r);e.setState({selected:s})},e.addOrRemove=function(e,t,a){var n=a.some((function(t){return t.satid===e.satid}));return t&&!n&&(a=[].concat(Object(h.a)(a),[e])),!t&&n&&(a=a.filter((function(t){return t.satid!==e.satid}))),a},e.onShowSatMap=function(){e.props.onShowMap(e.state.selected)},e.state={selected:[]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.satInfo?this.props.satInfo.above:[],a=this.props.isLoad,n=this.state.selected;return i.a.createElement("div",{className:"sat-list-box"},i.a.createElement(w.a,{className:"sat-list-btn",type:"primary",disabled:0===n.length,onClick:this.onShowSatMap},"Track"),i.a.createElement("hr",null),a?i.a.createElement("div",{className:"spin-box"},i.a.createElement(O.a,{tip:"Loading...",size:"large"})):i.a.createElement(S.b,{className:"sat-list",itemLayout:"horizontal",size:"small",dataSource:t,renderItem:function(t){return i.a.createElement(S.b.Item,{actions:[i.a.createElement(k.a,{dataInfo:t,onChange:e.onChange})]},i.a.createElement(S.b.Item.Meta,{avatar:i.a.createElement(x.a,{size:50,src:D.a}),title:i.a.createElement("p",null,t.satname),description:"Launch Date: ".concat(t.launchDate)}))}}))}}]),a}(n.Component),P=a(136),C=a(251),M=a(245),T=a(256),A=a(248),R=a(259),F=a(258),B=a(253),W=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).track=function(t){if(!t[0].hasOwnProperty("positions"))throw new Error("no position data");var a=t[0].positions.length,n=e.map.context2,i=new Date,r=0,s=setInterval((function(){var o=new Date,l=0===r?0:o-i,c=new Date(i.getTime()+60*l);if(n.clearRect(0,0,960,600),n.font="bold 14px sans-serif",n.fillStyle="#333",n.textAlign="center",n.fillText(Object(B.a)(c),480,10),r>=a)return clearInterval(s),e.setState({isDrawing:!1}),void(document.getElementsByClassName("hint")[0].innerHTML="");t.forEach((function(t){var a=t.info,n=t.positions;e.drawSat(a,n[r])})),r+=60}),1e3)},e.drawSat=function(t,a){var n=a.satlongitude,i=a.satlatitude;if(n&&i){var r=t.satname.match(/\d+/g).join(""),s=e.map,o=s.projection,l=s.context2,c=o([n,i]);l.fillStyle=e.color(r),l.beginPath(),l.arc(c[0],c[1],4,0,2*Math.PI),l.fill(),l.font="bold 11px sans-serif",l.textAlign="center",l.fillText(r,c[0],c[1]+14)}},e.generateMap=function(t){var a=Object(C.a)().scale(170).translate([480,300]).precision(.1),n=Object(M.a)(),i=Object(A.a)(e.refMap.current).attr("width",960).attr("height",600),r=Object(A.a)(e.refTrack.current).attr("width",960).attr("height",600),s=i.node().getContext("2d"),o=r.node().getContext("2d"),l=Object(T.a)().projection(a).context(s);t.forEach((function(e){s.fillStyle="#B3DDEF",s.strokeStyle="#000",s.globalAlpha=.7,s.beginPath(),l(e),s.fill(),s.stroke(),s.strokeStyle="rgba(220, 220, 220, 0.1)",s.beginPath(),l(n()),s.lineWidth=.1,s.stroke(),s.beginPath(),s.lineWidth=.5,l(n.outline()),s.stroke()})),e.map={projection:a,graticule:n,context:s,context2:o}},e.state={isLoading:!1,isDrawing:!1},e.map=null,e.color=F.a(R.a),e.refMap=i.a.createRef(),e.refTrack=i.a.createRef(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://unpkg.com/world-atlas@1/world/110m.json").then((function(t){var a=t.data,n=Object(P.a)(a,a.objects.countries).features;e.generateMap(n)})).catch((function(e){console.log("err in fetch map data ",e.message)}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(e.satData!==this.props.satData){var i=this.props.observerData,r=i.latitude,s=i.longitude,o=i.elevation,l=60*i.duration;this.setState({isLoading:!0});var c=this.props.satData.map((function(e){var t=e.satid,a="/api/".concat("rest/v1/satellite/positions","/").concat(t,"/").concat(r,"/").concat(s,"/").concat(o,"/").concat(l,"/&apiKey=").concat("YNLUEE-E5RFYB-ND3JXT-4WZ2");return E.a.get(a)}));Promise.all(c).then((function(e){var a=e.map((function(e){return e.data}));(n.setState({isLoading:!1,isDrawing:!0}),t.isDrawing)?document.getElementsByClassName("hint")[0].innerHTML="Please wait for these satellite animation to finish before selection new ones!":n.track(a)})).catch((function(e){console.log("err in fetch satellite position -> ",e.message)}))}}},{key:"render",value:function(){var e=this.state.isLoading;return i.a.createElement("div",{className:"map-box"},e?i.a.createElement("div",{className:"spinner"},i.a.createElement(O.a,{tip:"Loading...",size:"large"})):null,i.a.createElement("canvas",{className:"map",ref:this.refMap}),i.a.createElement("canvas",{className:"track",ref:this.refTrack}),i.a.createElement("div",{className:"hint"}))}}]),a}(n.Component),q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).showMap=function(t){e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{satList:Object(h.a)(t)})}))},e.showNearbySatellite=function(t){e.setState({isLoadingList:!0,setting:t}),e.fetchSatellite(t)},e.fetchSatellite=function(t){var a=t.latitude,n=t.longitude,i=t.elevation,r=t.altitude,s="/api/".concat("rest/v1/satellite/above","/").concat(a,"/").concat(n,"/").concat(i,"/").concat(r,"/").concat("52","/&apiKey=").concat("YNLUEE-E5RFYB-ND3JXT-4WZ2");e.setState({isLoadingList:!0}),E.a.get(s).then((function(t){console.log(t.data),e.setState({satInfo:t.data,isLoadingList:!1})})).catch((function(e){console.log("err in fetch satellite -> ",e)}))},e.state={setting:{},satInfo:{},satList:[],isLoadingList:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isLoadingList,a=e.satInfo,n=e.satList,r=e.setting;return i.a.createElement(g.a,{className:"main"},i.a.createElement(b.a,{span:8,className:"left-side"},i.a.createElement(L,{onShow:this.showNearbySatellite}),i.a.createElement(I,{isLoad:t,satInfo:a,onShowMap:this.showMap})),i.a.createElement(b.a,{span:16,className:"right-side"},i.a.createElement(W,{satData:n,observerData:r})))}}]),a}(n.Component),z=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("footer",{className:"footer"},"\xa92020 StarLink Tracker. All Rights Reserved. Website Made by Wenqi Gai")}}]),a}(n.Component);var J=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(p,null),i.a.createElement(q,null),i.a.createElement(z,null))},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,260)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(J,null)),Y()}},[[139,1,2]]]);
//# sourceMappingURL=main.18f4ca37.chunk.js.map